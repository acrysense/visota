"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,c=new Array(t);s<t;s++)c[s]=e[s];return c}document.addEventListener("DOMContentLoaded",(function(){Inputmask().mask(document.querySelectorAll("input"));var e=document.querySelectorAll(".js-select");e&&e.forEach((function(e){new SlimSelect({select:e})}));var t=document.querySelectorAll(".select-box__selected"),s=document.querySelectorAll(".select-box__option");t&&t.forEach((function(e){var s=function(){document.querySelectorAll(".select-box__container").forEach((function(e){e.classList.remove("select-box__container--active"),e.removeAttribute("style")})),document.querySelectorAll(".select-box__selected").forEach((function(e){return e.classList.remove("select-box__selected--active")}))},c=function(e,t){var s=function(s){for(var r=s.target;r&&!e.includes(r);)r=r.parentNode;r||(t(),c())};function c(){document.documentElement.removeEventListener("click",s)}return{setBodyChecker:function(){document.documentElement.addEventListener("click",s)},removeBodyChecker:c}}([e.parentNode].concat(_toConsumableArray(t)),s);e.addEventListener("click",(function(){var t=e.previousElementSibling;t.classList.contains("select-box__container--active")?s():(s(),t.classList.add("select-box__container--active"),e.classList.add("select-box__selected--active"),c.setBodyChecker())}))})),s&&s.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var s=e.closest(".select-box"),c=s.querySelector(".select-box__selected"),r=c.querySelector(".select-box__placeholder"),i=c.querySelector(".select-box__values");if(e.querySelector("input").checked){e.querySelector("input").checked=!1;var l=s.querySelectorAll("input:checked").length;l>=1?i.querySelector("span").innerHTML=l:(r.classList.contains("select-box__placeholder--active")||(r.classList.add("select-box__placeholder--active"),i.classList.remove("select-box__values--active")),i.querySelector("span").innerHTML="")}else{e.querySelector("input").checked=!0;var a=s.querySelectorAll("input:checked").length;r.classList.contains("select-box__placeholder--active")&&(r.classList.remove("select-box__placeholder--active"),i.classList.add("select-box__values--active")),i.querySelector("span").innerHTML=a}}))}));var c=document.querySelectorAll(".c-like");c&&c.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),e.classList.contains("is--active")?e.classList.remove("is--active"):e.classList.add("is--active")}))}));var r=document.getElementById("menu"),i=document.getElementById("hamburger-toggle"),l=document.querySelector(".menu__close");r&&i&&l&&(r.addEventListener("click",(function(e){e.target.classList.contains("menu")&&(e.preventDefault(),r.classList.remove("is--active"),document.body.classList.remove("scroll-disabled"))})),i.addEventListener("click",(function(e){e.preventDefault(),r.classList.contains("is--active")?(r.classList.remove("is--active"),document.body.classList.remove("scroll-disabled")):(r.classList.add("is--active"),document.body.classList.add("scroll-disabled"))})),l.addEventListener("click",(function(e){e.preventDefault(),r.classList.contains("is--active")&&(r.classList.remove("is--active"),document.body.classList.remove("scroll-disabled"))})));var a=document.querySelectorAll(".catalog__view-btn");a&&a.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var s=e.closest(".catalog"),c=s.querySelector(".catalog__sort"),r=e.dataset.view;if(s){var i=s.querySelector(".catalog__holder.is--active").dataset.view;document.querySelectorAll(".catalog__view-btn").forEach((function(e){return e.classList.remove("is--active")})),document.querySelectorAll(".catalog__holder").forEach((function(e){return e.classList.remove("is--active")})),s.querySelector('.catalog__view-btn[data-view="'+i+'"]').classList.add("is--active"),s.querySelector('.catalog__holder[data-view="'+r+'"]').classList.add("is--active"),c&&1==i?c.classList.add("is--hidden"):c.classList.remove("is--hidden")}}))}));var o=document.querySelectorAll(".catalog__maps-close");o&&o.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var s=e.closest(".catalog__maps-wrap");s.classList.contains("is--active")&&s.classList.remove("is--active")}))}));var n=document.querySelectorAll(".object__content-more");n&&n.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var s=e.closest(".object__content-wrap");s.classList.contains("is--short")?(s.classList.remove("is--short"),e.innerHTML="Скрыть"):(s.classList.add("is--short"),e.innerHTML="Показать больше")}))}));var d=document.querySelector(".collections__slider .swiper");if(d)new Swiper(d,{slidesPerView:4,spaceBetween:20,navigation:{prevEl:".collections__slider .swiper-button-prev",nextEl:".collections__slider .swiper-button-next"},breakpoints:{0:{slidesPerView:"auto",spaceBetween:5},768:{slidesPerView:2,spaceBetween:20},1024:{slidesPerView:3},1200:{slidesPerView:4}}});var u=document.querySelectorAll(".catalog-card__slider > .swiper");u&&u.forEach((function(e){new Swiper(e,{slidesPerView:1,pagination:{el:".swiper-pagination",type:"bullets",clickable:!0}})}));var v=document.querySelectorAll(".catalog__slider-wrapper > .swiper");v&&v.forEach((function(e){new Swiper(e,{slidesPerView:4,spaceBetween:20,navigation:{prevEl:e.closest(".catalog__slider-wrapper").querySelector(".swiper-button-prev"),nextEl:e.closest(".catalog__slider-wrapper").querySelector(".swiper-button-next")},breakpoints:{0:{slidesPerView:"auto",spaceBetween:5},768:{slidesPerView:2,spaceBetween:20},1024:{slidesPerView:3},1400:{slidesPerView:4}}})}));var m=document.querySelector(".popular-villages__slider .swiper");if(m)new Swiper(m,{slidesPerView:3,spaceBetween:20,navigation:{prevEl:".popular-villages__slider .swiper-button-prev",nextEl:".popular-villages__slider .swiper-button-next"},breakpoints:{0:{slidesPerView:"auto",spaceBetween:5},768:{slidesPerView:2,spaceBetween:20},1200:{slidesPerView:3}}});var f=document.querySelector(".object__slider .gallery-thumbs"),p=document.querySelector(".object__slider .gallery-main");if(f&&p){var _=new Swiper(f,{allowTouchMove:!1,slidesPerView:8,spaceBetween:10,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,breakpoints:{0:{slidesPerView:8,loopedSlides:4,thumbs:{swiper:_}}}}),y=new Swiper(p,{slidesPerView:1,spaceBetween:0,preloadImages:!1,navigation:{prevEl:".object__slider .swiper-button-prev",nextEl:".object__slider .swiper-button-next"},pagination:{el:".object__slider .swiper-pagination",type:"bullets",clickable:!0},breakpoints:{744:{loopedSlides:4,thumbs:{swiper:_}}}});f.querySelectorAll(".swiper-slide").forEach((function(e){e.addEventListener("click",(function(){f.querySelectorAll(".swiper-slide").forEach((function(e){return e.classList.remove("is--active")})),e.classList.add("is--active"),y.slideTo(e.dataset.index)}))})),y.on("slideChange",(function(){console.log(y.activeIndex),f.querySelectorAll(".swiper-slide").forEach((function(e){return e.classList.remove("is--active")})),f.querySelectorAll(".swiper-slide")[y.activeIndex].classList.add("is--active")}))}var L=document.getElementById("search"),b=document.querySelectorAll(".search-btn"),w=document.querySelectorAll(".search__close");L&&b&&w&&(L.addEventListener("click",(function(e){(e.target.classList.contains("search")||e.target.classList.contains("search__wrap"))&&(e.preventDefault(),L.classList.remove("is--active"),document.body.classList.remove("scroll-disabled"))})),b.forEach((function(e,t){e.addEventListener("click",(function(e){e.preventDefault(),r.classList.contains("is--active")&&r.classList.remove("is--active"),L.classList.add("is--active"),document.body.classList.add("scroll-disabled")}))})),w.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),L.classList.remove("is--active"),document.body.classList.remove("scroll-disabled")}))})));var S=document.querySelectorAll(".filters"),h=document.querySelectorAll(".filters-btn"),E=document.querySelectorAll(".filters__close");S&&h&&E&&(S.forEach((function(e){e.addEventListener("click",(function(e){(e.target.classList.contains("filters")||e.target.classList.contains("filters__wrap"))&&(e.preventDefault(),document.querySelectorAll(".filters.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.body.classList.remove("scroll-disabled"))}))})),h.forEach((function(e,t){e.addEventListener("click",(function(t){t.preventDefault();var s=e.dataset.id;document.querySelectorAll(".filters.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.getElementById(s).classList.add("is--active"),document.body.classList.add("scroll-disabled")}))})),E.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),document.querySelectorAll(".filters.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.body.classList.remove("scroll-disabled")}))})));var g=document.querySelectorAll(".modal"),q=document.querySelectorAll(".modal-btn"),A=document.querySelectorAll(".modal__close");g&&q&&A&&(g.forEach((function(e){e.addEventListener("click",(function(e){(e.target.classList.contains("modal")||e.target.classList.contains("modal__wrap"))&&(e.preventDefault(),document.querySelectorAll(".modal.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.body.classList.remove("scroll-disabled"))}))})),q.forEach((function(e,t){e.addEventListener("click",(function(t){t.preventDefault();var s=e.dataset.id;document.querySelectorAll(".modal.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.getElementById(s).classList.add("is--active"),document.body.classList.add("scroll-disabled")}))})),A.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),document.querySelectorAll(".modal.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.body.classList.remove("scroll-disabled")}))})))}));